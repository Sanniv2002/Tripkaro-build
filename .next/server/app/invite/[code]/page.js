(()=>{var e={};e.id=301,e.ids=[301],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},41790:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page-experimental.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},63477:e=>{"use strict";e.exports=require("querystring")},12781:e=>{"use strict";e.exports=require("stream")},71576:e=>{"use strict";e.exports=require("string_decoder")},24404:e=>{"use strict";e.exports=require("tls")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},82631:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>a.a,__next_app__:()=>x,originalPathname:()=>p,pages:()=>d,routeModule:()=>m,tree:()=>u});var r=s(73137),i=s(54647),n=s(4183),a=s.n(n),c=s(71775),o={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>c[e]);s.d(t,o);let l=r.AppPageRouteModule,u=["",{children:["invite",{children:["[code]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,93012)),"/home/sanniv/expense/app/invite/[code]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,36598)),"/home/sanniv/expense/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,51918,23)),"next/dist/client/components/not-found-error"]}],d=["/home/sanniv/expense/app/invite/[code]/page.tsx"],p="/invite/[code]/page",x={require:s,loadChunk:()=>Promise.resolve()},m=new l({definition:{kind:i.x.APP_PAGE,page:"/invite/[code]/page",pathname:"/invite/[code]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},60622:(e,t,s)=>{Promise.resolve().then(s.bind(s,87582))},87582:(e,t,s)=>{"use strict";s.r(t),s.d(t,{InvitePageClient:()=>x});var r=s(60080),i=s(9885),n=s(57114),a=s(74284),c=s(68384),o=s(97052),l=s(5705),u=s(97018),d=s(6645),p=s(28516);function x({code:e}){let t=(0,n.useRouter)(),{data:s,status:x}=(0,a.useSession)(),[m,h]=(0,i.useState)(!1),[g,v]=(0,i.useState)(null),[j,f]=(0,i.useState)(null),q=()=>{(0,a.signIn)("google",{redirect:!1,callbackUrl:`/redirect?fn=joinInvitedRoom&roomId=${e}`})},y=async()=>{if(!s){q();return}h(!0);try{let s=await (0,p.Ls)(e);s.success&&t.push(`/dashboard/trip/${s.trip.id}`)}catch(e){console.log(e)}};return((0,i.useEffect)(()=>{(async function(){try{let t=await (0,p.LA)(e);t?(v(t),f(null)):f("Invalid invitation code")}catch(e){f("Error fetching trip details")}})()},[e]),j)?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:(0,r.jsxs)(o.Zb,{className:"w-full max-w-md",children:[(0,r.jsxs)(o.Ol,{className:"text-center",children:[r.jsx(o.ll,{className:"text-destructive",children:"Invalid Invitation"}),r.jsx(o.SZ,{children:j})]}),r.jsx(o.aY,{className:"flex justify-center",children:r.jsx(c.z,{onClick:()=>t.push("/"),children:"Return Home"})})]})}):g?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:(0,r.jsxs)(o.Zb,{className:"w-full max-w-md",children:[(0,r.jsxs)(o.Ol,{className:"text-center",children:[r.jsx(o.ll,{children:"Join Trip"}),(0,r.jsxs)(o.SZ,{children:["You've been invited to join ",g.name]})]}),(0,r.jsxs)(o.aY,{className:"space-y-4",children:[r.jsx("div",{className:"text-center space-y-2",children:(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Trip dates: ",new Date(g.startDate).toLocaleDateString()," - ",new Date(g.endDate).toLocaleDateString()]})}),(0,r.jsxs)(c.z,{className:"w-full",onClick:y,disabled:m,children:[m?r.jsx(l.Z,{className:"h-4 w-4 animate-spin mr-2"}):s?r.jsx(u.Z,{className:"h-4 w-4 mr-2"}):r.jsx(d.Z,{className:"h-4 w-4 mr-2"}),s?"Join Trip":"Sign in with Google"]})]})]})}):r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx(l.Z,{className:"h-8 w-8 animate-spin"})})}},93012:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var r=s(48144),i=s(17536);let n=(0,i.createProxy)(String.raw`/home/sanniv/expense/components/invite/invite-page-client.tsx`),{__esModule:a,$$typeof:c}=n;n.default;let o=n.InvitePageClient;function l({params:e}){return r.jsx(o,{code:e.code})}}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[650,690,262,261,684,384,838,348,52],()=>s(82631));module.exports=r})();